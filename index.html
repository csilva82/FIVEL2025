<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feira FIVEL 2025 - Mobile</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', sans-serif; overflow: hidden; background: #000; }
canvas { display: block; }
#ui-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
#controls-info { position: absolute; top: 20px; left: 20px; background: rgba(0,0,0,0.8); color: white; padding: 20px; border-radius: 10px; font-size: 14px; max-width: 300px; }
#controls-info h3 { margin-bottom: 10px; color: #4CAF50; }
#crosshair { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); width: 20px; height: 20px; pointer-events: none; }
#crosshair::before, #crosshair::after { content: ''; position: absolute; background: rgba(255,255,255,0.8); }
#crosshair::before { top: 50%; left: 0; width: 100%; height: 2px; transform: translateY(-50%); }
#crosshair::after { left: 50%; top: 0; width: 2px; height: 100%; transform: translateX(-50%); }
#hover-info { position: absolute; bottom: 100px; left: 50%; transform: translateX(-50%); background: rgba(76,175,80,0.95); color: white; padding: 15px 30px; border-radius: 25px; font-size: 18px; font-weight: bold; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
#hover-info.visible { opacity: 1; }
#click-hint { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); background: rgba(255,165,0,0.95); color: white; padding: 20px 40px; border-radius: 15px; font-size: 16px; font-weight: bold; opacity: 0; transition: opacity 0.3s; pointer-events: none; z-index: 500; }
#click-hint.visible { opacity: 1; animation: pulse 2s infinite; }
@keyframes pulse { 0%, 100% { transform: translate(-50%,-50%) scale(1); } 50% { transform: translate(-50%,-50%) scale(1.05); } }
#minimap { 
  position: absolute; 
  top: 20px; 
  right: 20px; 
  width: 300px; 
  height: 200px; 
  background: rgba(0,0,0,0.9); 
  border: 3px solid #4CAF50; 
  border-radius: 10px; 
  pointer-events: all; 
  cursor: pointer; 
}
#minimap-title { position: absolute; top: 8px; left: 50%; transform: translateX(-50%); color: #4CAF50; font-size: 13px; font-weight: bold; z-index: 10; }
#loading { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); color: white; font-size: 24px; background: rgba(0,0,0,0.9); padding: 30px 50px; border-radius: 15px; }
.hidden { display: none !important; }
#instructions { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); background: rgba(0,0,0,0.95); color: white; padding: 40px; border-radius: 15px; text-align: center; max-width: 500px; pointer-events: all; }
#instructions h2 { color: #4CAF50; margin-bottom: 20px; }
#instructions button { background: #4CAF50; color: white; border: none; padding: 15px 40px; font-size: 18px; border-radius: 25px; cursor: pointer; margin-top: 20px; }
#custom-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; pointer-events: all; z-index: 1000; }
#modal-content { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px; border-radius: 20px; text-align: center; max-width: 500px; }
#modal-content h3 { color: white; font-size: 24px; margin-bottom: 15px; }
#modal-content p { color: rgba(255,255,255,0.9); font-size: 16px; margin-bottom: 10px; }
.url-display { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; color: #fff; font-family: monospace; font-size: 14px; margin: 20px 0; word-break: break-all; }
#modal-buttons { display: flex; gap: 15px; justify-content: center; margin-top: 25px; }
#modal-buttons button { padding: 12px 30px; font-size: 16px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; }
#modal-visit { background: #4CAF50; color: white; }
#modal-cancel { background: rgba(255,255,255,0.2); color: white; }
#mobile-controls { position: absolute; bottom: 20px; left: 20px; display: none; pointer-events: all; z-index: 100; }
#mobile-controls.active { display: block; }
.control-pad { position: relative; width: 150px; height: 150px; }
.control-btn { position: absolute; width: 50px; height: 50px; background: rgba(76,175,80,0.7); border: 2px solid rgba(255,255,255,0.8); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; user-select: none; touch-action: none; }
.control-btn:active { background: rgba(76,175,80,0.95); transform: scale(0.95); }
.control-btn.up { top: 0; left: 50%; transform: translateX(-50%); }
.control-btn.down { bottom: 0; left: 50%; transform: translateX(-50%); }
.control-btn.left { top: 50%; left: 0; transform: translateY(-50%); }
.control-btn.right { top: 50%; right: 0; transform: translateY(-50%); }
#look-controls { position: absolute; bottom: 20px; right: 20px; display: none; pointer-events: all; z-index: 100; }
#look-controls.active { display: block; }
.look-pad { position: relative; width: 150px; height: 150px; background: rgba(0,0,0,0.5); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; touch-action: none; }
.look-indicator { position: absolute; width: 30px; height: 30px; background: rgba(255,255,255,0.8); border: 2px solid #4CAF50; border-radius: 50%; top: 50%; left: 50%; transform: translate(-50%,-50%); pointer-events: none; }
.look-label { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); color: white; font-size: 12px; font-weight: bold; }
@media (max-width: 768px) {
  #controls-info { display: none; }
  #minimap { top: 10px; right: 10px; width: 200px; height: 133px; }
  #hover-info { bottom: 200px; font-size: 14px; padding: 10px 20px; }
}
</style>
</head>
<body>
<div id="loading">Carregando Feira FIVEL 2025...</div>
<div id="instructions">
  <h2>üé™ Bem-vindo √† FIVEL 2025!</h2>
  <p style="margin: 20px 0;">Navegue pela feira virtual e clique nos estandes.</p>
  <p style="font-size: 14px; color: #ccc;">Use controles na tela ou WASD para mover.</p>
  <button id="start-btn">Entrar na Feira</button>
</div>
<div id="ui-overlay">
  <div id="controls-info">
    <h3>‚å®Ô∏è Controles</h3>
    <div>Teclas:W,A,S,D - Mover</div>
    <div>Mouse - Olhar</div>
    <div>Click - Interagir</div>
  </div>
  <div id="crosshair"></div>
  <div id="hover-info">üñ±Ô∏è Clique para visitar</div>
  <div id="click-hint">üñ±Ô∏è Clique aqui para continuar navegando</div>
  <div id="minimap"><div id="minimap-title">üó∫Ô∏è MAPA</div></div>
</div>
<div id="custom-modal" class="hidden">
  <div id="modal-content">
    <h3>üåê Visitar Site</h3>
    <p id="modal-text">Deseja visitar o site?</p>
    <div class="url-display" id="modal-url"></div>
    <div id="modal-buttons">
      <button id="modal-visit">‚úì Visitar</button>
      <button id="modal-cancel">‚úï Cancelar</button>
    </div>
  </div>
</div>
<div id="mobile-controls">
  <div class="control-pad">
    <div class="control-btn up" data-key="w">‚ñ≤</div>
    <div class="control-btn down" data-key="s">‚ñº</div>
    <div class="control-btn left" data-key="a">‚óÑ</div>
    <div class="control-btn right" data-key="d">‚ñ∫</div>
  </div>
</div>
<div id="look-controls">
  <div class="look-label">üëÄ Olhar</div>
  <div class="look-pad" id="look-pad">
    <div class="look-indicator"></div>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>

  // Cole esta fun√ß√£o no console
function imageToBase64(url) {
  const img = new Image();
  img.crossOrigin = 'Anonymous';
  img.onload = function() {
    const canvas = document.createElement('canvas');
    canvas.width = img.width;
    canvas.height = img.height;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0);
    const base64 = canvas.toDataURL('image/png');
    console.log(base64);
    alert('Base64 copiado para o console!');
  };
  img.src = url;
}

const logosOnline = {
  "FIEMG e SENAI": "https://upload.wikimedia.org/wikipedia/commons/0/05/SENAI_logo_2024.png",
  "TDM": "https://images.weserv.nl/?url=www.dbmsistemas.com.br/imagens/img-l0tdm.jpg",
  "Trivale": "https://images.weserv.nl/?url=trivaletecnologia.com.br/wp-content/uploads/2024/01/Trivale-Tecnologia-Quem-Somos.png",
  "Credenciamento": "data:image/jpeg;base64,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",

};

const scene=new THREE.Scene();
scene.background=new THREE.Color(0x87ceeb);
scene.fog=new THREE.Fog(0x87ceeb,0,120);
const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
camera.position.set(-30, 1.7, -25);
camera.lookAt(new THREE.Vector3(-40, 1.7, 0));
const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.shadowMap.enabled=true;
document.body.appendChild(renderer.domElement);
scene.add(new THREE.AmbientLight(0xffffff,0.6));
const sun=new THREE.DirectionalLight(0xffffff,0.8);
sun.position.set(30,40,30);
sun.castShadow=true;
scene.add(sun);
const floor=new THREE.Mesh(new THREE.PlaneGeometry(200,150),new THREE.MeshStandardMaterial({color:0xf0f0f0}));
floor.rotation.x=-Math.PI/2;
floor.receiveShadow=true;
scene.add(floor);
scene.add(new THREE.GridHelper(200,100,0xcccccc,0xe0e0e0));
const floorArea=new THREE.Mesh(new THREE.PlaneGeometry(80,60),new THREE.MeshStandardMaterial({color:0x888888}));
floorArea.rotation.x=-Math.PI/2;
floorArea.position.set(0,0.01,-5);
scene.add(floorArea);
const fairEdges=new THREE.LineSegments(new THREE.EdgesGeometry(new THREE.BoxGeometry(80,0.5,60)),new THREE.LineBasicMaterial({color:0xffff00}));
fairEdges.position.set(0,0.25,-5);
scene.add(fairEdges);
const interactiveStands=[];
const standPositions=[];

function createStand(x,z,w,d,c,l,u){
const g=new THREE.Group();
const base=new THREE.Mesh(new THREE.BoxGeometry(w,0.2,d),new THREE.MeshStandardMaterial({color:0x8B4513}));
base.position.y=0.1;
g.add(base);
const wall=new THREE.Mesh(new THREE.BoxGeometry(w,3,0.2),new THREE.MeshStandardMaterial({color:c}));
wall.position.set(0,1.5,d/2-0.1);
wall.castShadow=true;
g.add(wall);
const roof=new THREE.Mesh(new THREE.BoxGeometry(w,0.2,d),new THREE.MeshStandardMaterial({color:0xffffff}));
roof.position.y=3;
g.add(roof);
const panel=new THREE.Mesh(new THREE.BoxGeometry(w-0.5,2.5,0.1),new THREE.MeshBasicMaterial({color:c,transparent:true,opacity:0.3}));
panel.position.set(0,1.5,d/2-0.15);
panel.userData={interactive:true,url:u,label:l};
g.add(panel);
interactiveStands.push(panel);
standPositions.push({x,z,width:w,depth:d,color:c,label:l,rotation:0});
const cv=document.createElement('canvas');
cv.width=512;cv.height=256;
const ctx=cv.getContext('2d');
ctx.fillStyle='#fff';
ctx.fillRect(0,0,512,256);

function drawTextOnly(){
  ctx.fillStyle='#fff';
  ctx.fillRect(0,0,512,256);
  ctx.fillStyle='#000';
  ctx.font='bold 40px Arial';
  ctx.textAlign='center';
  ctx.fillText(l,256,128);
}

const logoUrl = logosOnline[l];
const sign=new THREE.Mesh(new THREE.PlaneGeometry(Math.min(w*0.8,3.5),Math.min(w*0.8,3.5)*0.5),new THREE.MeshBasicMaterial({map:new THREE.CanvasTexture(cv)}));
sign.position.set(0,2.2,d/2-0.25);
sign.rotation.y=Math.PI;
g.add(sign);

if(logoUrl){
  const img=new Image();
  img.crossOrigin='anonymous';
  img.onload=()=>{
    ctx.fillStyle='#fff';
    ctx.fillRect(0,0,512,256);
    const maxW=400;
    const maxH=150;
    let imgW=img.width;
    let imgH=img.height;
    const ratio=Math.min(maxW/imgW,maxH/imgH);
    imgW*=ratio;
    imgH*=ratio;
    ctx.drawImage(img,(512-imgW)/2,(256-imgH)/2-30,imgW,imgH);
    ctx.fillStyle='#000';
    ctx.font='bold 24px Arial';
    ctx.textAlign='center';
    ctx.fillText(l,256,220);
    sign.material.map.needsUpdate=true;
  };
  img.onerror=()=>{
    drawTextOnly();
    sign.material.map.needsUpdate=true;
  };
  img.src=logoUrl;
}else{
  drawTextOnly();
}

g.position.set(x,0,z);
scene.add(g);
return g;
}

const s1=createStand(-15,-26.5,26.5,6,0x2c3e50,'FIEMG e SENAI','https://fiemg.com.br'); //logo OK
s1.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
const s2=createStand(-32,-20,7,3,0xffe600,'Credenciamento','https://sindvel.com.br/');
s2.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s3=createStand(21,-26.5,8,6,0x34495e,'ESPA√áO CIDADE CRIATIVA','https://www.espacocidadecriativa.com.br');
s3.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
createStand(21,-15,8,6,0x16a085,'SINDVEL SEBRAE','https://www.sindvel.com.br');
const s4=createStand(34.5,-20.5,10,18,0x8e44ad,'Rodadas Neg√≥cios','https://www.fivel.com.br/rodadas');
s4.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
const s5=createStand(38,9,8,3,0x2ecc71,'PSP Brasil','https://www.eps.com.br');
s5.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s6=createStand(-22,-14,3,3,0xaa96da,'TDM','http://www.tdm-mg.com.br/');
s6.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s7=createStand(-19,-14,3,3,0xff66cc,'Trivale','https://www.trivale.com.br');
s7.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s8=createStand(-22,-10,3,3,0xccff66,'Qualitronix','https://www.qualitronix.com.br');
s8.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s9=createStand(-19,-10,3,3,0xff9999,'TSZU','https://www.tszu.com.br');
s9.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s10=createStand(-32,-14,3,3,0xff6b6b,'Metagal','https://www.metagal.com.br');
s10.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s11=createStand(-32,-10,3,3,0x4ecdc4,'Winpoint','https://www.winpoint.com.br');
s11.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s12=createStand(-32,-6,3,3,0xffe66d,'IDET','https://www.idet.com.br');
s12.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s13=createStand(-32,-2,3,3,0x95e1d3,'Sicredi','https://www.sicredi.com.br');
s13.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s14=createStand(-32,5,8,3,0xf38181,'Exxer/Exsto','https://www.Exxer.com.br');
s14.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s15=createStand(-22,-3.5,8,3,0x66ccff,'Think','https://www.tehal.com.br');
s15.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s16=createStand(-19,-6,3,3,0x66ffcc,'GMC','https://www.gmc.com.br');
s16.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s17=createStand(-19,-2,3,3,0xff6699,'Magneton','https://www.magneton.com.br');
s17.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s18=createStand(-22,3,3,3,0xffcc66,'ALPHA SUBSEA','https://www.alphasubsea.com.br');
s18.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s19=createStand(-19,3,3,3,0x9966ff,'Enterplak','https://www.enterplak.com.br');
s19.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s20=createStand(-22,7,3,3,0x99ff99,'AMICUS','https://www.amicus.com.br');
s20.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s21=createStand(-19,7,3,3,0x66ff99,'RW','https://www.rw.com.br');
s21.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s22=createStand(-7,-14,3,3,0xffaa66,'Sensodron','https://www.sensodron.com.br');
s22.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s23=createStand(-4,-9,13,3,0xccaa66,'JFL','https://www.jfl.com.br');
s23.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s24=createStand(-4,-0.5,3,3,0x66ccaa,'Sense','https://www.sense.com.br');
s24.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s25=createStand(-4,5.5,8,3,0xaa66ff,'Leucotron','https://www.leucotron.com.br');
s25.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s26=createStand(-7,7.8,3.5,3,0xff9966,'FGM','https://www.fgm.com.br');
s26.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s27=createStand(-7,3.8,4.5,3,0x6666ff,'WatchGuard','https://www.watchguard.com.br');
s27.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s28=createStand(-7,-0.5,3,3,0xffcc99,'Serigr√°fica','https://www.serigr√°fica.com.br');
s28.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s29=createStand(-7,-4,3,3,0x66aaff,'ALPHA Pro','https://www.alphapro.com.br');
s29.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s30=createStand(-7,-9,6,3,0x66ff66,'RIA GREEN','https://www.riagreen.com.br');
s30.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s31=createStand(6,8.4,3,3,0xff6666,'Fractum','https://www.fractum.com.br');
s31.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s32=createStand(6,4.4,3,3,0x99ccff,'Nowigo','https://www.wowigo.com.br');
s32.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s33=createStand(16,-6,3,3,0xffff66,'Tamura','https://www.tamura.com.br');
s33.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
const s34=createStand(12,-6,3,3,0x996699,'Polimericos','https://www.polimericos.com.br');
s34.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
const s35=createStand(20,-6,3,3,0x99aa66,'Linear DEMINI','https://www.lineardemini.com.br');
s35.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
const s36=createStand(24,-6,3,3,0xaa9966,'Alarmes SRS','https://www.alarmessrs.com.br');
s36.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
const s37=createStand(14,8,6,3,0x6699aa,'Rocka Solutions','https://www.rockasolutions.com.br');
s37.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s38=createStand(17.5,9.5,3,3,0x66ffff,'ACEVALE','https://www.acervale.com.br');
s38.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
const s40=createStand(21.5,9.5,3,3,0xd35400,'Panasonic','https://www.panasonic.com.br');
s40.rotation.y=Math.PI;
standPositions[standPositions.length-1].rotation=Math.PI;
createStand(17.5,6.5,3,3,0x669966,'AGT Technologies','https://www.agttechnologies.com.br');
createStand(21.6,6.5,3,3,0xe74c3c,'Biotron','https://www.biotron.com.br');
const s43=createStand(38,16,3,4,0xff66ff,'DL','https://www.dl.com.br');
s43.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s44=createStand(29,6.5,3,3,0xaa6699,'Triunfo','https://www.triunfo.com.br');
s44.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s45=createStand(29,10,3,3,0xf39c12,'Elantas','https://www.elantas.com.br');
s45.rotation.y=Math.PI/2;
standPositions[standPositions.length-1].rotation=Math.PI/2;
const s46=createStand(32,6.5,3,3,0x996666,'Fuji','https://www.fuji.com.br');
s46.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
const s47=createStand(32,10,3,3,0x666699,'EPS','https://www.eps.com.br');
s47.rotation.y=-Math.PI/2;
standPositions[standPositions.length-1].rotation=-Math.PI/2;
createStand(-24,20,3,3,0x3498db,'Pixel','https://www.pixel.com.br');
createStand(-12,20,3,3,0x9b59b6,'AMS','https://www.ams.com.br');
createStand(-8,20,3,3,0xe67e22,'INATEL','https://www.inatel.br');
createStand(-4,20,3,3,0x1abc9c,'Tech Lab','https://www.techlab.com.br');
createStand(4,20,3,3,0x27ae60,'Alpha Tech','https://www.alphatech.com.br');
createStand(15,20,15,3,0x2c3e50,'Incubadoras','https://www.incubadoras.com.br');
createStand(32,20,15,3,0x34495e,'SINDICATO RURAL','https://www.sindicatorural.com.br');
const raycaster=new THREE.Raycaster();
let hoveredObject=null;
const keys={w:false,a:false,s:false,d:false};
let isPointerLocked=false;
const euler=new THREE.Euler(0,0,0,'YXZ');
const isMobile=/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)||window.innerWidth<=768;

document.getElementById('start-btn').addEventListener('click',()=>{
document.getElementById('instructions').classList.add('hidden');
if(isMobile){
document.getElementById('mobile-controls').classList.add('active');
document.getElementById('look-controls').classList.add('active');
isPointerLocked=true;
}else{
renderer.domElement.requestPointerLock();
}
});

document.addEventListener('pointerlockchange',()=>{
if(!isMobile){
isPointerLocked=document.pointerLockElement===renderer.domElement;
if(!isPointerLocked && modal.classList.contains('hidden')){
document.getElementById('click-hint').classList.add('visible');
}else{
document.getElementById('click-hint').classList.remove('visible');
}
}
});

renderer.domElement.addEventListener('click',()=>{
if(!isMobile && !isPointerLocked && modal.classList.contains('hidden')){
document.getElementById('click-hint').classList.remove('visible');
renderer.domElement.requestPointerLock();
}
});

document.addEventListener('visibilitychange',()=>{
if(!document.hidden && !isMobile){
setTimeout(()=>{
if(modal.classList.contains('hidden') && !isPointerLocked){
document.getElementById('click-hint').classList.add('visible');
}
},500);
}
});

document.addEventListener('mousemove',(e)=>{
if(!isPointerLocked||isMobile)return;
euler.setFromQuaternion(camera.quaternion);
euler.y-=e.movementX*0.002;
euler.x-=e.movementY*0.002;
euler.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,euler.x));
camera.quaternion.setFromEuler(euler);
});

document.querySelectorAll('.control-btn').forEach(btn=>{
btn.addEventListener('touchstart',(e)=>{
e.preventDefault();
keys[btn.getAttribute('data-key')]=true;
});
btn.addEventListener('touchend',(e)=>{
e.preventDefault();
keys[btn.getAttribute('data-key')]=false;
});
});

const lookPad=document.getElementById('look-pad');
let touchId=null,centerX=0,centerY=0;
lookPad.addEventListener('touchstart',(e)=>{
e.preventDefault();
if(touchId===null&&e.touches.length>0){
const t=e.touches[0];
touchId=t.identifier;
const r=lookPad.getBoundingClientRect();
centerX=r.left+r.width/2;
centerY=r.top+r.height/2;
}
});
lookPad.addEventListener('touchmove',(e)=>{
e.preventDefault();
if(touchId!==null){
for(let i=0;i<e.touches.length;i++){
if(e.touches[i].identifier===touchId){
const t=e.touches[i];
const dx=t.clientX-centerX;
const dy=t.clientY-centerY;
euler.setFromQuaternion(camera.quaternion);
euler.y-=dx*0.001;
euler.x-=dy*0.001;
euler.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,euler.x));
camera.quaternion.setFromEuler(euler);
}
}
}
});
lookPad.addEventListener('touchend',(e)=>{
e.preventDefault();
for(let i=0;i<e.changedTouches.length;i++){
if(e.changedTouches[i].identifier===touchId){
touchId=null;
document.querySelector('.look-indicator').style.transform='translate(-50%,-50%)';
}
}
});

document.addEventListener('keydown',(e)=>{
const k=e.key.toLowerCase();
if(keys.hasOwnProperty(k))keys[k]=true;
});
document.addEventListener('keyup',(e)=>{
const k=e.key.toLowerCase();
if(keys.hasOwnProperty(k))keys[k]=false;
});

const modal=document.getElementById('custom-modal');
let pendingUrl=null;
function showModal(l,u){
pendingUrl=u;
document.getElementById('modal-text').textContent=`Visitar ${l}?`;
document.getElementById('modal-url').textContent=u;
modal.classList.remove('hidden');
if(document.pointerLockElement)document.exitPointerLock();
}

function hideModal(){
modal.classList.add('hidden');
pendingUrl=null;
if(!isMobile){
setTimeout(()=>{
if(!document.hidden){
renderer.domElement.requestPointerLock();
}
},300);
}
}

document.getElementById('modal-visit').addEventListener('click',()=>{
if(pendingUrl)window.open(pendingUrl,'_blank');
hideModal();
});
document.getElementById('modal-cancel').addEventListener('click',hideModal);

const hoverInfo=document.getElementById('hover-info');
function updateRaycaster(){
raycaster.setFromCamera(new THREE.Vector2(0,0),camera);
const hits=raycaster.intersectObjects(interactiveStands);
if(hits.length>0){
const obj=hits[0].object;
if(hoveredObject!==obj){
if(hoveredObject)hoveredObject.material.opacity=0.3;
hoveredObject=obj;
hoveredObject.material.opacity=0.6;
hoverInfo.textContent=`üñ±Ô∏è ${obj.userData.label}`;
hoverInfo.classList.add('visible');
}
}else{
if(hoveredObject){hoveredObject.material.opacity=0.3;hoveredObject=null;}
hoverInfo.classList.remove('visible');
}
}

document.addEventListener('click',()=>{
if(!isPointerLocked)return;
if(hoveredObject&&hoveredObject.userData.url){
showModal(hoveredObject.userData.label,hoveredObject.userData.url);
}
});

function updateMovement(){
if(!isPointerLocked)return;
const dir=new THREE.Vector3();
camera.getWorldDirection(dir);
dir.y=0;
dir.normalize();
const right=new THREE.Vector3();
right.crossVectors(camera.up,dir).normalize();
const vel=new THREE.Vector3();
if(keys.w)vel.add(dir);
if(keys.s)vel.sub(dir);
if(keys.a)vel.add(right);
if(keys.d)vel.sub(right);
if(vel.length()>0){
vel.normalize().multiplyScalar(0.15);
camera.position.add(vel);
camera.position.x=Math.max(-40,Math.min(40,camera.position.x));
camera.position.z=Math.max(-30,Math.min(20,camera.position.z));
}
}

const minimapCanvas=document.createElement('canvas');
minimapCanvas.width=600;
minimapCanvas.height=400;
minimapCanvas.style.width='100%';
minimapCanvas.style.height='100%';
const ctx=minimapCanvas.getContext('2d');
document.getElementById('minimap').appendChild(minimapCanvas);

function drawMinimap(){
ctx.clearRect(0,0,600,400);
ctx.fillStyle='#1a1a1a';
ctx.fillRect(0,0,600,400);
const scale = 5;
const offsetX = 300;
const offsetY = 200;
ctx.strokeStyle='#ff0';
ctx.lineWidth=3;
const fairWidth = 80 * scale;
const fairHeight = 60 * scale;
ctx.strokeRect(offsetX - fairWidth/2, offsetY - fairHeight/2, fairWidth, fairHeight);
standPositions.forEach(s=>{
const mx = offsetX + (s.x * scale);
const mz = offsetY + (s.z * scale);
ctx.save();
ctx.translate(mx, mz);
ctx.rotate(s.rotation || 0);
ctx.fillStyle=`#${s.color.toString(16).padStart(6,'0')}`;
ctx.fillRect(-s.width*scale/2, -s.depth*scale/2, s.width*scale, s.depth*scale);
ctx.strokeStyle='#000';
ctx.lineWidth=1;
ctx.strokeRect(-s.width*scale/2, -s.depth*scale/2, s.width*scale, s.depth*scale);
ctx.restore();
});
const px = offsetX + (camera.position.x * scale);
const pz = offsetY + (camera.position.z * scale);
ctx.fillStyle='#f00';
ctx.beginPath();
ctx.arc(px, pz, 8, 0, Math.PI*2);
ctx.fill();
ctx.strokeStyle='#fff';
ctx.lineWidth=2;
ctx.stroke();
const dir = new THREE.Vector3();
camera.getWorldDirection(dir);
ctx.strokeStyle='#fff';
ctx.lineWidth=3;
ctx.beginPath();
ctx.moveTo(px, pz);
ctx.lineTo(px + dir.x * 20, pz + dir.z * 20);
ctx.stroke();
}

minimapCanvas.addEventListener('click',(e)=>{
const r=minimapCanvas.getBoundingClientRect();
const x=(e.clientX-r.left)/r.width*600;
const y=(e.clientY-r.top)/r.height*400;
const scale = 5;
const offsetX = 300;
const offsetY = 200;
camera.position.x=Math.max(-40,Math.min(40,(x-offsetX)/scale));
camera.position.z=Math.max(-30,Math.min(20,(y-offsetY)/scale));
});

function animate(){
requestAnimationFrame(animate);
updateMovement();
updateRaycaster();
drawMinimap();
renderer.render(scene,camera);
}

window.addEventListener('resize',()=>{
camera.aspect=window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth,window.innerHeight);
});

document.getElementById('loading').classList.add('hidden');
animate();
</script>
</body>
</html>
